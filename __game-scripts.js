var MakeItRain=pc.createScript("makeItRain");MakeItRain.attributes.add("originalBill",{type:"entity"}),MakeItRain.attributes.add("maxBills",{type:"number",default:100}),MakeItRain.attributes.add("emitRate",{type:"number",default:10}),MakeItRain.prototype.initialize=function(){this.timeSinceEmit=0,this.bills=[]},MakeItRain.prototype.update=function(t){this.timeSinceEmit+=t,this.timeSinceEmit*this.emitRate>1&&(this.timeSinceEmit=0,this.emit())},MakeItRain.prototype.emit=function(){if(this.originalBill){var t=this.originalBill.clone();this.app.root.addChild(t),t.setPosition(this.entity.getPosition()),t.setRotation(this.entity.getRotation());var i=new pc.Vec3;for(i.x=Math.random()-.5,i.y=Math.random(),i.z=Math.random()-5,i=this.entity.getRotation().transformVector(i),t.rigidbody.applyImpulse(i),t.rigidbody.enabled=!0,t.collision.enabled=!0;this.bills.length>this.maxBills-1;){this.bills.pop().destroy()}this.bills.unshift(t)}};